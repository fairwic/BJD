# 06 团长/商家工作台

## 概述
团长和商家的后台管理模块，包含团购发布、订单处理、发货管理、商品管理。

**优先级**：P0 (Core/MVP)

**包含页面**：
- `CreateGroupBuy.jsx` - 发起团购
- `GroupBuyManagement.jsx` - 团购列表
- `GroupBuyDetail.jsx` - 团购详情管理
- `OrderManagement.jsx` - 订单管理台
- `ShippingManagement.jsx` - 发货管理
- `CreateSpotProduct.jsx` - 发布现货
- `SpotProductManagement.jsx` - 现货管理

---

## 1. 发起团购 (`CreateGroupBuy.jsx`)

### 1.1 表单字段

| 字段 | 类型 | 校验规则 |
|------|------|----------|
| 标题 | 文本 | 必填，3-50字 |
| 全款 | 金额 | 必填，≥1元 |
| 定金 | 金额 | 必填，≤全款50% |
| 截团时间 | 日期 | 必填，>当前时间 |
| 规格列表 | 数组 | ≥1条 |

### 1.2 Excel导入

| 步骤 | 操作 | 响应 |
|------|------|------|
| 1 | 点击上传区域 | 选择.xlsx文件 |
| 2 | 解析 | 自动匹配"名称/规格名称"+"价格/单价"列 |
| 3 | 预览 | 显示解析出的规格列表；异常行红色高亮 |
| 4 | 发布 | 二次确认弹窗 -> 跳转详情页 |

---

## 2. 团购列表 (`GroupBuyManagement.jsx`)

卡片展示：封面+标题+状态+进度+订单数/营收

点击卡片 -> 跳转GroupBuyDetail

---

## 3. 团购详情管理 (`GroupBuyDetail.jsx`)

### 3.1 数据看板
- 总订单数 / 总营收 / 待审核 / 待补款

### 3.2 进度控制

| 按钮 | 效果 |
|------|------|
| 截团并制作 | 进度30% |
| 更新进度 | 进度80% |
| 完工(触发尾款) | 进度100% -> 所有订单变"待补款" -> 发送通知 |
| 全部完成 | 结束团购 |

---

## 4. 订单管理台 (`OrderManagement.jsx`)

### 4.1 功能
- 审核定金：勾选订单 -> 确认收款
- 批量选择：长按进入多选模式
- 导出Excel：生成.xlsx下载

---

## 5. 发货管理 (`ShippingManagement.jsx`)

### 5.1 Tab切换
- 待发货(显示数量)
- 已发货

### 5.2 发货操作
点击「立即发货」-> 弹窗输入运单号 -> 确认 -> 状态变"已发货" -> 自动通知买家

---

## 6. 发布现货 (`CreateSpotProduct.jsx`)

| 字段 | 说明 |
|------|------|
| 标题 | 必填 |
| 主图 | 1张封面 |
| 详情图 | 最多9张，支持拖拽排序 |
| SKU | 名称+价格+库存 |

---

## 7. 现货管理 (`SpotProductManagement.jsx`)

| 操作 | 响应 |
|------|------|
| 编辑 | 跳转CreateSpotProduct(编辑模式) |
| 上架/下架 | 切换销售状态 |
| 调整库存 | 弹窗输入新库存 |
